<!DOCTYPE html>
<html lang="en">
	<head>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		
		<title>Female Respondents</title>
		
		<link href="//cdnjs.cloudflare.com/ajax/libs/c3/0.4.11/c3.min.css" rel="stylesheet" />
		<script src="//cdnjs.cloudflare.com/ajax/libs/c3/0.4.11/c3.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.js"></script>
		<style>
		@import url(//fonts.googleapis.com/css?family=Lato);
		body { display: block;
		margin:auto;
		}
		.c3-legend-item, text, .c3-tooltip-container {
		font-family: Lato;
		font-size: 13px;
		color: rgba(0,0,0,.6);
		fill: rgba(0,0,0,.6);
		}
		.c3-tooltip th {
		background-color: #aaa;
		font-size: 13px;
		padding: 2px 5px;
		text-align: left;
		color: #FFF;
		}
		/*.c3-chart-arc text {
			fill: #fff;
			font-size: 10px;
		}*/

		</style>
	</head>
	<body>
		<div id="chart"><svg></svg></div>
		<script>
		var chart = c3.generate({
		data: {
			// url: '//docs.google.com/spreadsheets/d/1RGgcGc1I_f5YZWC-vyL2SepV7MwrYzHLqIkocJ3LRIw/export?gid=2143059285&format=csv',
    	    columns: [['Control', 18], ['Intervention', 23]],
            type : 'donut',
			},
		donut: {
			// width: 48,
			title: "Female Respondents",
			label: {
				// format: function (value, ratio, id) {return d3.format('%')(ratio)} + " (" + function (value, ratio, id) {return d3.format('%')(value) + ")"}
				format: function (value, ratio, id) {
					var value = d3.format('d')(value);
					var percentage = d3.format('%')(ratio);
					return value // + " (" + percentage + ")";
				}
			},
		},
		color: {
			pattern: ['#68bec5', '#e380b9']
		},
		
  tooltip: {
    position: function(data, width, height, thisElement) {
      var containerWidth, tooltipWidth, x, y;
	  element = document.getElementById("chart");
      containerWidth = element.clientWidth;
      tooltipWidth = element.querySelector('.c3-tooltip-container').clientWidth;
      x = parseInt(thisElement.getAttribute('x'));
      if (x + tooltipWidth > containerWidth) {
        x = containerWidth - tooltipWidth - 2;
      }
      y = thisElement.getAttribute('y');
      y = y + height;
      return {
        top: y,
        left: x
      };
    }
  }
		});

	</script>
</body>
</html>